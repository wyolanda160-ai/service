# 客服管理系统 PRD 文档

### 2.1 客服列表模块

#### 2.1.1 基础信息展示
| 字段名称 | 数据类型 | 说明 | 
|---------|---------|------|
| 客服头像 | 图片URL | 客服个人头像 | 
| 客服姓名 | 字符串 | 客服真实姓名 |  |
| ID | 字符串 | 唯一标识 |  |
| 所属分组 | 字符串 | 部门分组 | 下拉选择（售前咨询组、售后服务组、VIP客服组、管理组） |
| 在线状态 | 枚举 | 当前状态 | online/busy/offline |
| 当前接待量 | 整数 | 正在处理的会话数 | 0：00：00-23：59：59处理中的会话数|
| 累计接待量 | 整数 | 当前客服历史总接待客户数 |  |
| 最后登录时间 | 时间戳 | 最近登录时间 |

#### 2.1.2 高级筛选功能
| 筛选条件 | 字段类型 | 说明 |
|---------|---------|------|
| 状态筛选 | 多选 | 在线/忙碌/离线 | 
| 分组筛选 | 下拉 | 所属部门分组 | 
| 客服名称 | 输入 | 客服姓名/ID/ |

#### 2.1.3 客服详情数据
| 指标名称 | 数据类型 | 说明 | 计算公式 |
|---------|---------|------|---------|
| 累计接待量 | 整数 | 历史总接待客户数 | 
| 满意度 | 小数 | 客户评价平均分 | AVG(评分 WHERE 客服ID=当前客服 AND 评分>0) |
| 平均响应时间 | 时间 | 首次回复平均耗时 | AVG(首次回复时间 - 消息时间) |
| 今日接待量 | 整数 | 当日接待客户数 |
| 入职时间 | 日期 | 参加工作时间 | 用户录入时间 |

### 2.2 数据概览模块

#### 2.2.1 核心统计指标
| 指标名称 | 数据类型 | 说明 | 计算公式 |
|---------|---------|------|---------|
| 进行中对话数 | 整数 | 正在进行的人工客服会话数 |
| 平均满意度 | 小数 | 所有客服的平均满意度 |
| 今日接待量 | 整数 | 当日总接待客户数 | 
| 平均响应时间 | 时间 | 平均首次回复耗时 | AVG(首次回复时间 - 用户消息时间) |


#### 2.2.2 客服绩效分析表
| 字段名称 | 数据类型 | 说明 | 计算公式 |
|---------|---------|------|---------|
| 接待量 | 整数 | 当日处理的会话数 | COUNT(会话ID WHERE 客服ID=当前客服 AND 日期=今天) |
| 响应时长 | 时间 | 平均响应时间 | AVG(回复时间 - 用户消息时间) |
| 满意度 | 小数 | 客户评价分数 | 
| 工作时长 | 时间 | 当日在线总时长 | SUM(在线时间) |

#### 2.2.3 敏感词预警
| 字段名称 | 说明 | 触发条件 |
|---------|------|---------|
| 敏感词 | 预设的关键词列表 | "投诉"、"退款"、"报警"等 |
| 预警时间 | 检测到敏感词的时间戳 | 当前时间 |
| 对话双方 | 客服和用户信息 | 会话表中的客服ID和用户ID |
| 上下文 | 包含敏感词的对话内容 | 消息内容 LIKE '%敏感词%' |


### 2.3 管理员工作台模块

#### 2.3.1 会话管理功能
| 功能点 | 说明 | 数据逻辑 |
|-------|------|---------|
| 全局会话查看 | 查看所有客服的当前会话 |
| 客服筛选 | 按客服筛选显示对应会话 
| 会话转移 | 将用户会话转移给其他客服 | 

### 2.4 普通客服工作台模块

#### 2.4.1 会话列表
| 字段名称 | 数据类型 | 说明 | 计算逻辑 |
|---------|---------|------|---------|
| 用户姓名 | 字符串 | 客户姓名 | 用户表姓名字段 |
| VIP标识 | 布尔 | 是否VIP用户 | 用户VIP等级 > 1 |
| 最后消息 | 字符串 | 最新消息内容 | 消息表最新记录 |
| 未读数 | 整数 | 未读消息数量 | 

#### 2.4.2 消息发送功能
| 字段名称 | 数据类型 | 说明 | 计算逻辑 |
|---------|---------|------|---------|
| 消息内容 | 文本 | 客服回复内容 | 用户输入 |
| 消息类型 | 枚举 | 消息格式 | text/image/file/emoji |
| 发送时间 | 时间戳 | 消息发送时间 | 当前时间 |
| 消息方向 | 枚举 | 发送方 | '客服' |



### 4.1 角色权限矩阵

| 功能模块 | 普通客服 | 管理员 | 超级管理员 |
|---------|---------|-------|-----------|
| 查看自己会话 | ✓ | ✓ | ✓ |
| 查看所有会话 | ✗ | ✓ | ✓ |
| 转接会话 | ✓ | ✓ | ✓ |
| 查看统计数据 | ✗ | ✓ | ✓ |
| 管理客服状态 | ✗ | ✓ | ✓ |
| 系统配置 | ✗ | ✗ | ✓ |

### 4.2 数据访问控制
- **普通客服**：只能查看和处理分配给自己的会话
- **管理员**：可以查看所有客服的会话，进行转移分配
- **超级管理员**：拥有系统最高权限，可以进行全局配置和管理


#### 客服状态枚举值
- `online`：在线，可接收新会话
- `busy`：忙碌，暂不接收新会话  
- `offline`：离线，不在线



#### 敏感词列表（可配置）
- 投诉、投诉到底
- 退款、全额退款
- 报警、举报
- 欺诈、骗局
- 工商、315
